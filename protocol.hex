00000000  2d 2d 2d 2d 2d 2d 2d 2d  2d 2d 2d 2d 2d 2d 0d 0a  |--------------..|
00000010  43 48 49 50 20 44 41 54  41 20 46 49 4c 45 0d 0a  |CHIP DATA FILE..|
00000020  2d 2d 2d 2d 2d 2d 2d 2d  2d 2d 2d 2d 2d 2d 0d 0a  |--------------..|
00000030  0d 0a 54 68 65 20 63 68  69 70 20 64 61 74 61 20  |..The chip data |
00000040  66 69 6c 65 20 69 73 20  75 73 65 64 20 62 79 20  |file is used by |
00000050  74 68 65 20 50 6f 63 6b  65 74 20 74 6f 20 67 65  |the Pocket to ge|
00000060  74 20 6d 65 73 73 61 67  65 20 69 6e 66 6f 72 6d  |t message inform|
00000070  61 74 69 6f 6e 20 74 68  61 74 20 69 73 20 64 69  |ation that is di|
00000080  73 70 6c 61 79 65 64 20  6f 6e 20 74 68 65 20 4c  |splayed on the L|
00000090  43 44 20 61 6e 64 20 74  6f 20 67 65 74 20 69 6e  |CD and to get in|
000000a0  66 6f 72 6d 61 74 69 6f  6e 20 61 62 6f 75 74 20  |formation about |
000000b0  74 68 65 20 63 68 69 70  73 20 66 6f 72 20 70 72  |the chips for pr|
000000c0  6f 67 72 61 6d 6d 69 6e  67 20 61 6e 64 20 73 6f  |ogramming and so|
000000d0  20 74 68 61 74 20 74 68  65 20 48 45 58 20 63 6f  | that the HEX co|
000000e0  64 65 20 63 61 6e 20 62  65 20 64 69 73 61 73 73  |de can be disass|
000000f0  65 6d 62 6c 65 64 20 69  6e 74 6f 20 6d 6e 65 6d  |embled into mnem|
00000100  6f 6e 69 63 20 66 6f 72  6d 61 74 2e 0d 0a 0d 0a  |onic format.....|
00000110  0d 0a 54 68 65 72 65 20  69 73 20 61 20 74 65 78  |..There is a tex|
00000120  74 20 66 69 6c 65 20 63  61 6c 6c 65 64 20 70 6f  |t file called po|
00000130  63 6b 65 74 2e 6d 73 67  20 77 68 69 63 68 20 68  |cket.msg which h|
00000140  61 73 20 61 6c 6c 20 74  68 65 20 6d 65 73 73 61  |as all the messa|
00000150  67 65 20 69 6e 66 6f 20  69 6e 20 69 74 2e 0d 0a  |ge info in it...|
00000160  0d 0a 49 74 20 68 61 73  20 74 68 69 73 20 66 6f  |..It has this fo|
00000170  72 6d 61 74 0d 0a 0d 0a  48 48 2c 4d 45 53 53 41  |rmat....HH,MESSA|
00000180  47 45 0d 0a 0d 0a 48 48  20 69 73 20 61 20 48 45  |GE....HH is a HE|
00000190  58 20 6e 75 6d 62 65 72  20 66 72 6f 6d 20 30 32  |X number from 02|
000001a0  20 74 6f 20 46 46 2e 0d  0a 2c 20 69 73 20 61 20  | to FF..., is a |
000001b0  64 65 6c 69 6d 69 74 65  72 2e 0d 0a 4d 45 53 53  |delimiter...MESS|
000001c0  41 47 45 20 69 73 20 74  68 65 20 74 65 78 74 20  |AGE is the text |
000001d0  6d 65 73 73 61 67 65 20  74 68 61 74 20 77 69 6c  |message that wil|
000001e0  6c 20 62 65 20 64 69 73  70 6c 61 79 65 64 20 61  |l be displayed a|
000001f0  6e 64 20 6d 75 73 74 20  62 65 20 31 20 2d 20 31  |nd must be 1 - 1|
00000200  36 20 63 68 61 72 73 20  6c 6f 6e 67 2e 0d 0a 49  |6 chars long...I|
00000210  74 20 69 73 20 6e 6f 74  20 72 65 63 6f 6d 6d 65  |t is not recomme|
00000220  6e 64 65 64 20 74 6f 20  63 68 61 6e 67 65 20 74  |nded to change t|
00000230  68 65 20 63 75 72 72 65  6e 74 20 48 45 58 20 6e  |he current HEX n|
00000240  75 6d 62 65 72 73 20 6f  66 20 74 68 65 73 65 20  |umbers of these |
00000250  6d 65 73 73 61 67 65 73  20 6f 72 20 74 68 65 20  |messages or the |
00000260  50 6f 63 6b 65 74 20 73  6f 66 74 77 61 72 65 20  |Pocket software |
00000270  6d 61 79 20 6e 6f 74 20  66 75 6e 63 74 69 6f 6e  |may not function|
00000280  20 70 72 6f 70 65 72 6c  79 2e 0d 0a 0d 0a 0d 0a  | properly.......|
00000290  54 68 65 72 65 20 69 73  20 61 6c 73 6f 20 61 20  |There is also a |
000002a0  66 69 6c 65 20 63 61 6c  6c 65 64 20 63 68 69 70  |file called chip|
000002b0  64 61 74 2e 74 78 74 20  77 68 69 63 68 20 68 61  |dat.txt which ha|
000002c0  73 20 61 6c 6c 20 74 68  65 20 75 73 65 72 20 63  |s all the user c|
000002d0  68 69 70 20 69 6e 66 6f  20 69 6e 20 69 74 2c 20  |hip info in it, |
000002e0  61 6e 64 20 74 68 65 20  66 6f 72 6d 61 74 20 66  |and the format f|
000002f0  6f 72 20 74 68 69 73 20  69 73 20 64 65 73 63 72  |or this is descr|
00000300  69 62 65 64 20 69 6e 20  74 68 65 20 50 6f 63 6b  |ibed in the Pock|
00000310  65 74 20 68 65 6c 70 20  66 69 6c 65 2e 0d 0a 0d  |et help file....|
00000320  0a 0d 0a 54 68 65 20 50  43 20 73 6f 66 74 77 61  |...The PC softwa|
00000330  72 65 20 6d 75 73 74 20  6d 65 72 67 65 20 74 68  |re must merge th|
00000340  65 73 65 20 66 69 6c 65  73 20 69 6e 74 6f 20 6f  |ese files into o|
00000350  6e 65 20 61 6e 64 20 69  6e 73 65 72 74 20 61 64  |ne and insert ad|
00000360  64 72 65 73 73 20 69 6e  66 6f 72 6d 61 74 69 6f  |dress informatio|
00000370  6e 20 73 6f 20 74 68 61  74 20 74 68 65 20 50 6f  |n so that the Po|
00000380  63 6b 65 74 20 63 61 6e  20 66 69 6e 64 20 74 68  |cket can find th|
00000390  65 20 6d 65 73 73 61 67  65 73 20 61 6e 64 20 63  |e messages and c|
000003a0  68 69 70 20 64 61 74 61  20 71 75 69 63 6b 6c 79  |hip data quickly|
000003b0  2e 20 0d 0a 0d 0a 0d 0a  54 68 65 20 66 69 6e 61  |. ......The fina|
000003c0  6c 20 66 69 6c 65 20 66  6f 72 6d 61 74 20 69 73  |l file format is|
000003d0  20 61 73 20 66 6f 6c 6c  6f 77 73 2e 0d 0a 0d 0a  | as follows.....|
000003e0  20 1c 30 30 0d 0a 30 31  0d 0a 5b 05 31 36 46 38  | .00..01..[.16F8|
000003f0  33 5d 20 73 0d 0a 20 1c  0d 0a 20 2c 0d 0a 20 3d  |3] s.. ... ,.. =|
00000400  0d 0a 20 47 0d 0a 20 53  0d 0a 20 60 0d 0a 20 54  |.. G.. S.. `.. T|
00000410  48 45 20 50 4f 43 4b 45  54 20 20 62 79 5e 0d 0a  |HE POCKET  by^..|
00000420  42 55 42 42 4c 45 20 20  53 4f 46 54 57 41 52 45  |BUBBLE  SOFTWARE|
00000430  5e 0d 0a 46 55 4e 43 54  49 4f 4e 3a 5e 0d 0a 53  |^..FUNCTION:^..S|
00000440  45 4c 45 43 54 20 43 48  49 50 5e 0d 0a 46 49 4c  |ELECT CHIP^..FIL|
00000450  45 20 4d 41 4e 41 47 45  52 5e 0d 0a 45 58 50 4f  |E MANAGER^..EXPO|
00000460  52 54 20 46 49 4c 45 5e  0d 0a 5b 31 36 46 38 33  |RT FILE^..[16F83|
00000470  5d 0d 0a 30 35 30 32 30  30 34 30 32 32 4c 31 4e  |]..0502004022L1N|
00000480  4d 4e 31 31 33 46 46 46  30 30 30 30 46 46 46 46  |MN113FFF0000FFFF|
00000490  30 30 30 30 46 46 46 46  30 30 30 30 46 46 46 46  |0000FFFF0000FFFF|
000004a0  30 30 30 30 0d 0a 23 30  2c 49 4e 44 46 3b 30 30  |0000..#0,INDF;00|
000004b0  2c 54 4d 52 30 3b 30 31  2c 50 43 4c 3b 30 32 2c  |,TMR0;01,PCL;02,|
000004c0  53 54 41 54 55 53 3b 30  33 2c 46 53 52 3b 30 34  |STATUS;03,FSR;04|
000004d0  2c 50 4f 52 54 41 3b 30  35 2c 50 4f 52 54 42 3b  |,PORTA;05,PORTB;|
000004e0  30 36 2c 45 45 44 41 54  41 3b 30 38 2c 45 45 41  |06,EEDATA;08,EEA|
000004f0  44 52 3b 30 39 2c 50 43  4c 41 54 48 3b 30 41 2c  |DR;09,PCLATH;0A,|
00000500  49 4e 54 43 4f 4e 3b 30  42 5e 0d 0a 23 31 2c 4f  |INTCON;0B^..#1,O|
00000510  50 54 5f 52 45 47 3b 30  31 2c 54 52 49 53 41 3b  |PT_REG;01,TRISA;|
00000520  30 35 2c 54 52 49 53 42  3b 30 36 2c 45 45 43 4f  |05,TRISB;06,EECO|
00000530  4e 31 3b 30 38 2c 45 45  43 4f 4e 32 3b 30 39 5e  |N1;08,EECON2;09^|
00000540  0d 0a 25 30 30 33 2c 43  2c 44 43 2c 5a 2c 50 44  |..%003,C,DC,Z,PD|
00000550  2c 54 4f 2c 52 50 30 2c  52 50 31 2c 49 52 50 5e  |,TO,RP0,RP1,IRP^|
00000560  0d 0a 25 30 30 42 2c 52  42 49 46 2c 49 4e 54 46  |..%00B,RBIF,INTF|
00000570  2c 54 30 49 46 2c 52 42  49 45 2c 49 4e 54 45 2c  |,T0IF,RBIE,INTE,|
00000580  54 30 49 45 2c 45 45 49  45 2c 47 49 45 5e 0d 0a  |T0IE,EEIE,GIE^..|
00000590  25 31 30 31 2c 50 53 30  2c 50 53 31 2c 50 53 32  |%101,PS0,PS1,PS2|
000005a0  2c 50 53 41 2c 54 30 53  45 2c 54 30 43 53 2c 49  |,PSA,T0SE,T0CS,I|
000005b0  4e 54 45 44 47 2c 52 42  50 55 5e 0d 0a 25 31 30  |NTEDG,RBPU^..%10|
000005c0  38 2c 52 44 2c 57 52 2c  57 52 45 4e 2c 57 52 45  |8,RD,WR,WREN,WRE|
000005d0  52 52 2c 45 45 49 46 2c  3f 2c 3f 2c 3f 5e 0d 0a  |RR,EEIF,?,?,?^..|
000005e0  40 30 4f 53 43 2c 30 30  30 33 2b 30 30 30 30 4c  |@0OSC,0003+0000L|
000005f0  50 2b 30 30 30 31 58 54  2b 30 30 30 32 48 53 2b  |P+0001XT+0002HS+|
00000600  30 30 30 33 52 43 5e 0d  0a 40 30 57 44 54 2c 30  |0003RC^..@0WDT,0|
00000610  30 30 34 2b 30 30 30 30  4f 46 46 2b 30 30 30 34  |004+0000OFF+0004|
00000620  4f 4e 5e 0d 0a 40 30 50  57 52 54 45 2c 30 30 30  |ON^..@0PWRTE,000|
00000630  38 2b 30 30 30 30 4f 4e  2b 30 30 30 38 4f 46 46  |8+0000ON+0008OFF|
00000640  5e 0d 0a 2f 30 43 4f 44  45 20 50 52 4f 54 45 43  |^../0CODE PROTEC|
00000650  54 2c 33 46 46 30 2b 33  46 46 30 4f 46 46 2b 30  |T,3FF0+3FF0OFF+0|
00000660  30 30 30 4f 4e 5e 0d 0a  21 21 21 65 6e 64 5e 0d  |000ON^..!!!end^.|
00000670  0a 0d 0a 0d 0a 31 73 74  20 6c 69 6e 65 20 3d 20  |.....1st line = |
00000680  61 64 64 72 65 73 73 20  6f 66 20 74 68 65 20 31  |address of the 1|
00000690  73 74 20 6d 65 73 73 61  67 65 20 61 64 64 72 65  |st message addre|
000006a0  73 73 20 70 6f 69 6e 74  65 72 2e 0d 0a 28 41 20  |ss pointer...(A |
000006b0  70 6f 69 6e 74 65 72 20  74 6f 20 61 20 70 6f 69  |pointer to a poi|
000006c0  6e 74 65 72 20 69 66 20  79 6f 75 20 6c 69 6b 65  |nter if you like|
000006d0  29 0d 0a 31 36 20 62 69  74 20 61 64 64 72 65 73  |)..16 bit addres|
000006e0  73 20 73 74 6f 72 65 64  20 69 6e 20 32 20 62 79  |s stored in 2 by|
000006f0  74 65 73 20 2d 20 28 61  64 64 72 65 73 73 20 64  |tes - (address d|
00000700  69 76 20 32 35 36 29 20  2b 20 28 61 64 64 72 65  |iv 256) + (addre|
00000710  73 73 20 6d 6f 64 20 32  35 36 29 20 3d 20 48 4c  |ss mod 256) = HL|
00000720  20 62 79 74 65 20 2b 20  32 20 27 30 27 20 63 68  | byte + 2 '0' ch|
00000730  61 72 61 63 74 65 72 73  0d 0a 0d 0a 20 1c 30 30  |aracters.... .00|
00000740  20 20 20 20 20 20 20 20  3c 3c 3c 3c 20 54 68 69  |        <<<< Thi|
00000750  73 20 61 64 64 72 65 73  73 20 70 6f 69 6e 74 73  |s address points|
00000760  20 74 6f 0d 0a 30 31 0d  0a 5b 05 31 36 46 38 33  | to..01..[.16F83|
00000770  5d 20 73 0d 0a 20 1c 20  20 20 20 20 20 20 20 20  |] s.. .         |
00000780  20 3c 3c 3c 3c 20 74 68  69 73 20 61 64 64 72 65  | <<<< this addre|
00000790  73 73 0d 0a 0d 0a 0d 0a  32 6e 64 20 6c 69 6e 65  |ss......2nd line|
000007a0  20 3d 20 74 6f 74 61 6c  20 63 68 69 70 20 63 6f  | = total chip co|
000007b0  75 6e 74 20 69 6e 20 41  53 43 49 49 20 68 65 78  |unt in ASCII hex|
000007c0  20 66 6f 72 6d 61 74 20  28 48 4c 29 0d 0a 0d 0a  | format (HL)....|
000007d0  33 72 64 20 6c 69 6e 65  20 74 6f 20 6c 69 6e 65  |3rd line to line|
000007e0  20 28 33 20 2b 20 63 68  69 70 20 63 6f 75 6e 74  | (3 + chip count|
000007f0  29 20 61 72 65 20 74 68  65 20 63 68 69 70 20 6e  |) are the chip n|
00000800  61 6d 65 73 20 74 68 61  74 20 61 72 65 20 69 6e  |ames that are in|
00000810  63 6c 75 64 65 64 20 69  6e 20 74 68 65 20 63 68  |cluded in the ch|
00000820  69 70 64 61 74 2e 74 78  74 20 66 69 6c 65 2e 0d  |ipdat.txt file..|
00000830  0a 54 68 65 20 75 73 65  72 20 69 73 20 72 65 71  |.The user is req|
00000840  75 65 73 74 65 64 20 74  6f 20 65 6e 74 65 72 20  |uested to enter |
00000850  65 61 63 68 20 63 68 69  70 20 6e 61 6d 65 20 6c  |each chip name l|
00000860  69 6b 65 20 74 68 69 73  0d 0a 5b 31 36 46 38 33  |ike this..[16F83|
00000870  5d 0d 0a 0d 0a 54 68 69  73 20 64 61 74 61 20 69  |]....This data i|
00000880  73 20 6d 6f 64 69 66 69  65 64 20 6c 69 6b 65 20  |s modified like |
00000890  74 68 69 73 0d 0a 73 74  61 72 74 20 64 65 6c 69  |this..start deli|
000008a0  6d 69 74 65 72 20 2d 20  5b 0d 0a 64 65 63 69 6d  |miter - [..decim|
000008b0  61 6c 20 76 61 6c 75 65  20 6f 66 20 63 68 69 70  |al value of chip|
000008c0  20 6e 61 6d 65 20 63 68  61 72 61 63 74 65 72 20  | name character |
000008d0  63 6f 75 6e 74 2e 20 31  20 6d 69 6e 2c 20 38 20  |count. 1 min, 8 |
000008e0  6d 61 78 20 2d 20 69 6e  20 74 68 69 73 20 63 61  |max - in this ca|
000008f0  73 65 20 2d 20 35 0d 0a  63 68 69 70 20 6e 61 6d  |se - 5..chip nam|
00000900  65 20 2d 20 31 36 46 38  33 0d 0a 65 6e 64 20 64  |e - 16F83..end d|
00000910  65 6c 69 6d 69 74 65 72  20 2d 20 5d 0d 0a 73 74  |elimiter - ]..st|
00000920  61 72 74 20 61 64 64 72  65 73 73 20 6f 66 20 63  |art address of c|
00000930  68 69 70 20 64 61 74 61  20 61 73 20 69 74 20 61  |hip data as it a|
00000940  70 70 65 61 72 73 20 69  6e 20 74 68 65 20 45 45  |ppears in the EE|
00000950  50 52 4f 4d 20 6d 65 6d  6f 72 79 0d 0a 31 36 20  |PROM memory..16 |
00000960  62 69 74 20 61 64 64 72  65 73 73 20 73 74 6f 72  |bit address stor|
00000970  65 64 20 69 6e 20 32 20  62 79 74 65 73 20 2d 20  |ed in 2 bytes - |
00000980  28 61 64 64 72 65 73 73  20 64 69 76 20 32 35 36  |(address div 256|
00000990  29 20 2b 20 28 61 64 64  72 65 73 73 20 6d 6f 64  |) + (address mod|
000009a0  20 32 35 36 29 20 3d 20  48 4c 20 62 79 74 65 0d  | 256) = HL byte.|
000009b0  0a 54 68 65 20 61 64 64  72 65 73 73 20 69 73 20  |.The address is |
000009c0  74 68 65 20 31 73 74 20  63 68 61 72 61 63 74 65  |the 1st characte|
000009d0  72 20 6f 66 20 74 68 65  20 63 68 69 70 20 64 61  |r of the chip da|
000009e0  74 61 20 65 67 2e 20 27  30 27 20 69 6e 20 30 35  |ta eg. '0' in 05|
000009f0  30 32 30 30 34 30 32 32  4c 2e 2e 2e 2e 0d 0a 0d  |02004022L.......|
00000a00  0a 54 68 65 20 6c 69 6e  65 73 20 66 6f 6c 6c 6f  |.The lines follo|
00000a10  77 69 6e 67 20 74 68 65  20 63 68 69 70 20 6e 61  |wing the chip na|
00000a20  6d 65 73 20 64 61 74 61  20 61 72 65 20 74 68 65  |mes data are the|
00000a30  20 45 45 50 52 4f 4d 20  61 64 64 72 65 73 73 65  | EEPROM addresse|
00000a40  73 20 66 6f 72 20 65 61  63 68 20 6d 65 73 73 61  |s for each messa|
00000a50  67 65 20 73 74 61 72 74  20 63 68 61 72 61 63 74  |ge start charact|
00000a60  65 72 0d 0a 31 36 20 62  69 74 20 61 64 64 72 65  |er..16 bit addre|
00000a70  73 73 20 73 74 6f 72 65  64 20 69 6e 20 32 20 62  |ss stored in 2 b|
00000a80  79 74 65 73 20 2d 20 28  61 64 64 72 65 73 73 20  |ytes - (address |
00000a90  64 69 76 20 32 35 36 29  20 2b 20 28 61 64 64 72  |div 256) + (addr|
00000aa0  65 73 73 20 6d 6f 64 20  32 35 36 29 20 3d 20 48  |ess mod 256) = H|
00000ab0  4c 20 62 79 74 65 0d 0a  35 20 6d 65 73 73 61 67  |L byte..5 messag|
00000ac0  65 73 20 61 72 65 20 73  68 6f 77 6e 20 77 69 74  |es are shown wit|
00000ad0  68 20 35 20 61 64 64 72  65 73 73 65 73 20 6c 69  |h 5 addresses li|
00000ae0  73 74 65 64 0d 0a 54 68  65 20 31 73 74 20 61 64  |sted..The 1st ad|
00000af0  64 72 65 73 73 20 70 6f  69 6e 74 73 20 74 6f 20  |dress points to |
00000b00  74 68 65 20 27 73 70 61  63 65 27 20 69 6e 20 22  |the 'space' in "|
00000b10  20 54 48 45 20 50 4f 43  4b 45 54 20 62 79 20 5e  | THE POCKET by ^|
00000b20  22 0d 0a 54 68 65 20 32  6e 64 20 61 64 64 72 65  |"..The 2nd addre|
00000b30  73 73 20 70 6f 69 6e 74  73 20 74 6f 20 74 68 65  |ss points to the|
00000b40  20 27 42 27 20 69 6e 20  22 42 55 42 42 4c 45 20  | 'B' in "BUBBLE |
00000b50  20 53 4f 46 54 57 41 52  45 5e 22 0d 0a 65 74 63  | SOFTWARE^"..etc|
00000b60  0d 0a 0d 0a 54 68 65 20  6c 69 6e 65 73 20 66 6f  |....The lines fo|
00000b70  6c 6c 6f 77 69 6e 67 20  74 68 65 20 6d 65 73 73  |llowing the mess|
00000b80  61 67 65 20 61 64 64 72  65 73 73 65 73 20 61 72  |age addresses ar|
00000b90  65 20 74 68 65 20 6d 65  73 73 61 67 65 73 20 74  |e the messages t|
00000ba0  65 78 74 2e 0d 0a 54 68  65 79 20 61 72 65 20 6c  |ext...They are l|
00000bb0  69 73 74 65 64 20 69 6e  20 70 6f 63 6b 65 74 2e  |isted in pocket.|
00000bc0  6d 73 67 20 70 72 65 63  65 64 65 64 20 77 69 74  |msg preceded wit|
00000bd0  68 20 6d 65 73 73 61 67  65 20 6e 75 6d 62 65 72  |h message number|
00000be0  73 20 61 6e 64 20 61 20  63 6f 6d 6d 61 20 64 65  |s and a comma de|
00000bf0  6c 69 6d 69 74 65 72 20  77 68 69 63 68 20 61 72  |limiter which ar|
00000c00  65 20 74 68 65 72 65 20  74 6f 20 68 65 6c 70 20  |e there to help |
00000c10  69 64 65 6e 74 69 66 79  20 65 61 63 68 20 6f 6e  |identify each on|
00000c20  65 20 73 6f 20 74 68 61  74 20 74 68 65 20 50 6f  |e so that the Po|
00000c30  63 6b 65 74 20 2e 61 73  6d 20 63 6f 64 65 20 77  |cket .asm code w|
00000c40  72 69 74 65 72 20 63 61  6e 20 6d 61 74 63 68 20  |riter can match |
00000c50  74 68 65 6d 2e 20 54 68  65 73 65 20 6e 75 6d 62  |them. These numb|
00000c60  65 72 73 20 61 6e 64 20  74 68 65 20 63 6f 6d 6d  |ers and the comm|
00000c70  61 20 61 72 65 20 73 74  72 69 70 70 65 64 20 66  |a are stripped f|
00000c80  72 6f 6d 20 74 68 65 20  6d 65 73 73 61 67 65 20  |rom the message |
00000c90  74 65 78 74 20 61 6e 64  20 61 20 27 5e 27 20 63  |text and a '^' c|
00000ca0  68 61 72 61 63 74 65 72  20 69 73 20 61 70 70 65  |haracter is appe|
00000cb0  6e 64 65 64 20 74 6f 20  74 68 65 20 65 6e 64 20  |nded to the end |
00000cc0  62 65 66 6f 72 65 20 69  6e 73 65 72 74 69 6e 67  |before inserting|
00000cd0  20 69 6e 74 6f 20 74 68  65 20 66 69 6e 61 6c 20  | into the final |
00000ce0  74 65 78 74 20 66 69 6c  65 2e 0d 0a 0d 0a 30 30  |text file.....00|
00000cf0  2c 20 54 48 45 20 50 4f  43 4b 45 54 20 62 79 0d  |, THE POCKET by.|
00000d00  0a 30 31 2c 42 55 42 42  4c 45 20 20 53 4f 46 54  |.01,BUBBLE  SOFT|
00000d10  57 41 52 45 0d 0a 30 32  2c 46 55 4e 43 54 49 4f  |WARE..02,FUNCTIO|
00000d20  4e 3a 0d 0a 65 74 63 2e  0d 0a 0d 0a 54 68 65 73  |N:..etc.....Thes|
00000d30  65 20 62 65 63 6f 6d 65  0d 0a 20 54 48 45 20 50  |e become.. THE P|
00000d40  4f 43 4b 45 54 20 20 62  79 5e 0d 0a 42 55 42 42  |OCKET  by^..BUBB|
00000d50  4c 45 20 20 53 4f 46 54  57 41 52 45 5e 0d 0a 46  |LE  SOFTWARE^..F|
00000d60  55 4e 43 54 49 4f 4e 3a  5e 0d 0a 65 74 63 2e 0d  |UNCTION:^..etc..|
00000d70  0a 0d 0a 54 68 65 20 6e  75 6d 62 65 72 73 20 61  |...The numbers a|
00000d80  72 65 20 75 73 65 64 20  62 79 20 74 68 65 20 70  |re used by the p|
00000d90  72 6f 67 72 61 6d 6d 65  72 20 66 6f 72 20 74 68  |rogrammer for th|
00000da0  65 20 22 4d 65 73 73 50  72 6f 63 58 22 20 73 75  |e "MessProcX" su|
00000db0  62 72 6f 75 74 69 6e 65  73 2e 0d 0a 0d 0a 45 78  |broutines.....Ex|
00000dc0  61 6d 70 6c 65 0d 0a 20  20 20 20 20 20 20 20 20  |ample..         |
00000dd0  20 6d 6f 76 6c 77 20 30  30 68 0d 0a 20 20 20 20  | movlw 00h..    |
00000de0  20 20 20 20 20 20 63 61  6c 6c 20 4d 65 73 73 50  |      call MessP|
00000df0  72 6f 63 31 20 20 20 3b  20 64 69 73 70 6c 61 79  |roc1   ; display|
00000e00  20 22 20 54 48 45 20 50  4f 43 4b 45 54 20 62 79  | " THE POCKET by|
00000e10  22 20 6f 6e 20 6c 69 6e  65 20 23 31 0d 0a 0d 0a  |" on line #1....|
00000e20  0d 0a 41 66 74 65 72 20  74 68 69 73 20 64 61 74  |..After this dat|
00000e30  61 20 63 6f 6d 65 73 20  74 68 65 20 63 68 69 70  |a comes the chip|
00000e40  20 69 6e 66 6f 72 6d 61  74 69 6f 6e 20 66 72 6f  | information fro|
00000e50  6d 20 63 68 69 70 64 61  74 2e 74 78 74 2e 0d 0a  |m chipdat.txt...|
00000e60  54 68 65 20 63 68 69 70  20 69 6e 66 6f 72 6d 61  |The chip informa|
00000e70  74 69 6f 6e 20 68 61 73  20 74 68 65 20 73 70 61  |tion has the spa|
00000e80  63 65 73 20 73 74 72 69  70 70 65 64 20 6f 75 74  |ces stripped out|
00000e90  20 61 6e 64 20 74 68 65  20 49 44 20 61 6e 64 20  | and the ID and |
00000ea0  46 75 73 65 20 64 61 74  61 20 66 6f 72 6d 61 74  |Fuse data format|
00000eb0  20 69 73 20 73 77 61 70  70 65 64 20 66 72 6f 6d  | is swapped from|
00000ec0  0d 0a 48 69 20 42 79 74  65 20 4c 6f 20 42 79 74  |..Hi Byte Lo Byt|
00000ed0  65 20 66 6f 72 6d 61 74  20 74 6f 20 4c 6f 20 42  |e format to Lo B|
00000ee0  79 74 65 20 48 69 20 42  79 74 65 20 66 6f 72 6d  |yte Hi Byte form|
00000ef0  61 74 2e 0d 0a 0d 0a 30  32 20 30 30 34 30 20 32  |at.....02 0040 2|
00000f00  20 32 20 4c 20 31 20 4e  20 4d 20 4e 20 31 20 31  | 2 L 1 N M N 1 1|
00000f10  20 33 46 46 46 20 30 30  30 30 20 46 46 46 46 20  | 3FFF 0000 FFFF |
00000f20  30 30 30 30 20 46 46 46  46 20 30 30 30 30 20 46  |0000 FFFF 0000 F|
00000f30  46 46 46 20 30 30 30 30  0d 0a 62 65 63 6f 6d 65  |FFF 0000..become|
00000f40  73 0d 0a 30 32 30 30 34  30 32 32 4c 31 4e 4d 4e  |s..02004022L1NMN|
00000f50  31 31 46 46 33 46 30 30  30 30 46 46 46 46 30 30  |11FF3F0000FFFF00|
00000f60  30 30 46 46 46 46 30 30  30 30 46 46 46 46 30 30  |00FFFF0000FFFF00|
00000f70  30 30 0d 0a 0d 0a 41 6c  6c 20 74 65 78 74 20 6c  |00....All text l|
00000f80  69 6e 65 73 20 65 78 63  65 70 74 20 74 68 65 20  |ines except the |
00000f90  63 68 69 70 20 6e 61 6d  65 20 61 6e 64 20 74 68  |chip name and th|
00000fa0  65 20 63 68 69 70 20 69  6e 66 6f 72 6d 61 74 69  |e chip informati|
00000fb0  6f 6e 20 68 61 76 65 20  61 20 27 5e 27 20 63 68  |on have a '^' ch|
00000fc0  61 72 61 63 74 65 72 20  61 70 70 65 6e 64 65 64  |aracter appended|
00000fd0  20 74 6f 20 74 68 65 20  65 6e 64 2e 0d 0a 45 78  | to the end...Ex|
00000fe0  61 6d 70 6c 65 2e 2e 0d  0a 0d 0a 25 30 30 33 2c  |ample......%003,|
00000ff0  43 2c 44 43 2c 5a 2c 50  44 2c 54 4f 2c 52 50 30  |C,DC,Z,PD,TO,RP0|
00001000  2c 52 50 31 2c 49 52 50  0d 0a 62 65 63 6f 6d 65  |,RP1,IRP..become|
00001010  73 0d 0a 25 30 30 33 2c  43 2c 44 43 2c 5a 2c 50  |s..%003,C,DC,Z,P|
00001020  44 2c 54 4f 2c 52 50 30  2c 52 50 31 2c 49 52 50  |D,TO,RP0,RP1,IRP|
00001030  5e 0d 0a 0d 0a 54 68 65  20 6c 61 73 74 20 6c 69  |^....The last li|
00001040  6e 65 20 69 6e 20 74 68  65 20 66 69 6c 65 20 74  |ne in the file t|
00001050  68 61 74 20 74 68 65 20  75 73 65 72 20 65 6e 74  |hat the user ent|
00001060  65 72 73 20 6d 75 73 74  20 62 65 0d 0a 21 21 21  |ers must be..!!!|
00001070  65 6e 64 0d 0a 0d 0a 54  68 69 73 20 61 6c 73 6f  |end....This also|
00001080  20 68 61 73 20 61 20 27  5e 27 20 63 68 61 72 20  | has a '^' char |
00001090  61 70 70 65 6e 64 65 64  0d 0a 21 21 21 65 6e 64  |appended..!!!end|
000010a0  5e 0d 0a 0d 0a 0d 0a 0d  0a 2d 2d 2d 2d 2d 2d 2d  |^........-------|
000010b0  2d 2d 2d 2d 2d 2d 2d 2d  2d 2d 2d 2d 2d 2d 2d 2d  |----------------|
*
000010f0  2d 0d 0a 0d 0a 0d 0a 41  6c 6c 20 63 6f 6d 6d 61  |-......All comma|
00001100  6e 64 73 20 6d 75 73 74  20 62 65 20 72 65 63 65  |nds must be rece|
00001110  69 76 65 64 20 62 79 20  62 6f 74 68 20 65 6e 64  |ived by both end|
00001120  73 20 77 69 74 68 69 6e  20 31 20 73 65 63 6f 6e  |s within 1 secon|
00001130  64 20 0d 0a 6f 72 20 61  20 74 69 6d 65 6f 75 74  |d ..or a timeout|
00001140  20 65 72 72 6f 72 20 77  69 6c 6c 20 6f 63 63 75  | error will occu|
00001150  72 20 61 6e 64 20 74 68  65 20 49 6d 70 6f 72 74  |r and the Import|
00001160  20 66 75 6e 63 74 69 6f  6e 20 77 69 6c 6c 0d 0a  | function will..|
00001170  74 65 72 6d 69 6e 61 74  65 2e 20 54 68 69 73 20  |terminate. This |
00001180  69 73 20 75 6e 6c 65 73  73 20 74 68 65 20 50 6f  |is unless the Po|
00001190  63 6b 65 74 20 69 73 20  73 70 65 63 69 66 69 63  |cket is specific|
000011a0  61 6c 6c 79 20 77 61 69  74 69 6e 67 0d 0a 66 6f  |ally waiting..fo|
000011b0  72 20 61 20 50 43 20 72  65 73 70 6f 6e 73 65 20  |r a PC response |
000011c0  74 68 61 74 20 63 6f 75  6c 64 20 74 61 6b 65 20  |that could take |
000011d0  73 6f 6d 65 20 74 69 6d  65 2e 0d 0a 0d 0a 2d 2d  |some time.....--|
000011e0  2d 2d 2d 2d 2d 2d 2d 2d  2d 2d 2d 2d 2d 2d 2d 2d  |----------------|
000011f0  2d 2d 2d 2d 2d 2d 2d 2d  2d 2d 2d 2d 0d 0a 49 4d  |------------..IM|
00001200  50 4f 52 54 20 43 48 49  50 20 44 41 54 41 20 46  |PORT CHIP DATA F|
00001210  49 4c 45 20 50 52 4f 54  4f 43 4f 4c 0d 0a 2d 2d  |ILE PROTOCOL..--|
00001220  2d 2d 2d 2d 2d 2d 2d 2d  2d 2d 2d 2d 2d 2d 2d 2d  |----------------|
00001230  2d 2d 2d 2d 2d 2d 2d 2d  2d 2d 2d 2d 0d 0a 0d 0a  |------------....|
00001240  50 4f 43 4b 45 54 0d 0a  0d 0a 53 74 61 72 74 20  |POCKET....Start |
00001250  54 65 78 74 20 52 65 71  75 65 73 74 0d 0a 53 65  |Text Request..Se|
00001260  6e 64 73 20 27 54 27 20  2b 20 27 54 27 0d 0a 0d  |nds 'T' + 'T'...|
00001270  0a 0d 0a 50 43 0d 0a 0d  0a 52 65 63 65 69 76 65  |...PC....Receive|
00001280  73 20 27 54 27 20 2b 20  27 54 27 0d 0a 50 43 20  |s 'T' + 'T'..PC |
00001290  74 68 65 6e 20 62 75 69  6c 64 73 20 74 68 65 20  |then builds the |
000012a0  63 68 69 70 20 64 61 74  61 20 66 69 6c 65 20 72  |chip data file r|
000012b0  65 61 64 79 20 66 6f 72  20 74 72 61 6e 73 6d 69  |eady for transmi|
000012c0  73 73 69 6f 6e 2e 0d 0a  55 73 65 73 20 66 69 6c  |ssion...Uses fil|
000012d0  65 73 20 27 63 68 69 70  64 61 74 2e 74 78 74 27  |es 'chipdat.txt'|
000012e0  20 61 6e 64 20 27 70 6f  63 6b 65 74 2e 6d 73 67  | and 'pocket.msg|
000012f0  27 0d 0a 54 68 65 20 66  69 6e 61 6c 20 63 68 61  |'..The final cha|
00001300  72 61 63 74 65 72 20 63  6f 75 6e 74 20 6d 75 73  |racter count mus|
00001310  74 20 62 65 20 65 76 65  6e 6c 79 20 64 69 76 69  |t be evenly divi|
00001320  73 69 62 6c 65 20 62 79  20 31 36 20 62 65 63 61  |sible by 16 beca|
00001330  75 73 65 20 31 36 0d 0a  62 79 74 65 73 20 61 72  |use 16..bytes ar|
00001340  65 20 73 65 6e 64 20 66  6f 72 20 65 61 63 68 20  |e send for each |
00001350  70 61 63 6b 65 74 0d 0a  49 66 20 74 68 65 20 50  |packet..If the P|
00001360  43 20 65 6e 63 6f 75 6e  74 65 72 73 20 61 6e 20  |C encounters an |
00001370  65 72 72 6f 72 2c 20 74  68 65 6e 20 74 68 65 20  |error, then the |
00001380  65 72 72 6f 72 20 69 73  20 64 69 73 70 6c 61 79  |error is display|
00001390  65 64 20 61 6e 64 0d 0a  74 68 65 20 72 65 71 75  |ed and..the requ|
000013a0  65 73 74 20 69 73 20 61  62 6f 72 74 65 64 0d 0a  |est is aborted..|
000013b0  49 66 20 74 68 65 20 66  69 6c 65 20 69 73 20 4f  |If the file is O|
000013c0  4b 20 66 6f 72 20 74 72  61 6e 73 6d 69 73 73 69  |K for transmissi|
000013d0  6f 6e 2c 20 74 68 65 6e  20 73 65 6e 64 20 61 6e  |on, then send an|
000013e0  79 20 63 68 61 72 0d 0a  0d 0a 0d 0a 50 4f 43 4b  |y char......POCK|
000013f0  45 54 0d 0a 0d 0a 52 65  63 65 69 76 65 73 20 61  |ET....Receives a|
00001400  6e 79 20 63 68 61 72 0d  0a 52 65 71 75 65 73 74  |ny char..Request|
00001410  20 31 36 20 62 79 74 65  73 20 6f 66 20 64 61 74  | 16 bytes of dat|
00001420  61 20 2d 20 73 65 6e 64  20 27 52 27 0d 0a 0d 0a  |a - send 'R'....|
00001430  0d 0a 50 43 0d 0a 0d 0a  5b 54 45 58 54 20 4c 4f  |..PC....[TEXT LO|
00001440  4f 50 5d 0d 0a 52 65 63  65 69 76 65 73 20 27 52  |OP]..Receives 'R|
00001450  27 0d 0a 69 66 20 6d 6f  72 65 20 64 61 74 61 2c  |'..if more data,|
00001460  20 73 65 6e 64 20 27 59  27 20 2b 20 31 36 20 62  | send 'Y' + 16 b|
00001470  79 74 65 73 20 6f 66 20  64 61 74 61 0d 0a 69 66  |ytes of data..if|
00001480  20 6e 6f 20 6d 6f 72 65  20 64 61 74 61 20 73 65  | no more data se|
00001490  6e 64 20 27 4e 27 20 61  6e 64 20 6e 6f 20 66 75  |nd 'N' and no fu|
000014a0  72 74 68 65 72 20 50 43  20 61 63 74 69 6f 6e 20  |rther PC action |
000014b0  72 65 71 75 69 72 65 64  0d 0a 0d 0a 0d 0a 50 4f  |required......PO|
000014c0  43 4b 45 54 0d 0a 0d 0a  52 65 63 65 69 76 65 73  |CKET....Receives|
000014d0  20 27 59 27 20 6f 72 20  27 4e 27 0d 0a 69 66 20  | 'Y' or 'N'..if |
000014e0  27 59 27 20 74 68 65 6e  0d 0a 52 65 63 65 69 76  |'Y' then..Receiv|
000014f0  65 73 20 31 36 20 62 79  74 65 73 20 6f 66 20 64  |es 16 bytes of d|
00001500  61 74 61 20 61 6e 64 20  73 74 6f 72 65 73 20 69  |ata and stores i|
00001510  74 0d 0a 52 65 71 75 65  73 74 20 31 36 20 62 79  |t..Request 16 by|
00001520  74 65 73 20 6f 66 20 64  61 74 61 20 2d 20 73 65  |tes of data - se|
00001530  6e 64 20 27 52 27 0d 0a  5b 54 45 58 54 20 4c 4f  |nd 'R'..[TEXT LO|
00001540  4f 50 5d 0d 0a 0d 0a 69  66 20 27 4e 27 20 74 68  |OP]....if 'N' th|
00001550  65 6e 20 65 6e 64 20 6f  66 20 74 72 61 6e 73 66  |en end of transf|
00001560  65 72 0d 0a 0d 0a 5b 45  4e 44 5d 0d 0a 0d 0a 0d  |er....[END].....|
00001570  0a 2d 2d 2d 2d 2d 2d 2d  2d 2d 2d 2d 2d 2d 2d 2d  |.---------------|
00001580  2d 2d 2d 2d 2d 2d 0d 0a  49 4d 50 4f 52 54 20 43  |------..IMPORT C|
00001590  4f 4d 4d 53 20 50 52 4f  54 4f 43 4f 4c 0d 0a 2d  |OMMS PROTOCOL..-|
000015a0  2d 2d 2d 2d 2d 2d 2d 2d  2d 2d 2d 2d 2d 2d 2d 2d  |----------------|
000015b0  2d 2d 2d 2d 0d 0a 0d 0a  50 4f 43 4b 45 54 0d 0a  |----....POCKET..|
000015c0  0d 0a 53 74 61 72 74 20  49 6d 70 6f 72 74 20 52  |..Start Import R|
000015d0  65 71 75 65 73 74 0d 0a  53 65 6e 64 73 20 27 49  |equest..Sends 'I|
000015e0  27 20 2b 20 27 49 27 0d  0a 77 61 69 74 20 66 6f  |' + 'I'..wait fo|
000015f0  72 20 50 43 20 72 65 73  70 6f 6e 73 65 0d 0a 0d  |r PC response...|
00001600  0a 0d 0a 50 43 20 0d 0a  0d 0a 52 65 63 65 69 76  |...PC ....Receiv|
00001610  65 73 20 27 49 27 20 2b  20 27 49 27 0d 0a 46 69  |es 'I' + 'I'..Fi|
00001620  6c 65 20 6c 6f 61 64 20  64 69 61 6c 6f 67 20 64  |le load dialog d|
00001630  69 73 70 6c 61 79 65 64  0d 0a 48 45 58 20 66 69  |isplayed..HEX fi|
00001640  6c 65 20 69 73 20 70 72  6f 63 65 73 73 65 64 0d  |le is processed.|
00001650  0a 49 66 20 66 69 6c 65  20 63 61 6e 63 65 6c 6c  |.If file cancell|
00001660  65 64 20 6f 72 20 65 72  72 6f 72 20 20 2d 20 73  |ed or error  - s|
00001670  65 6e 64 20 27 4e 27 0d  0a 49 66 20 66 69 6c 65  |end 'N'..If file|
00001680  20 73 75 63 63 65 73 73  20 2d 20 73 65 6e 64 20  | success - send |
00001690  27 59 27 0d 0a 0d 0a 0d  0a 50 4f 43 4b 45 54 0d  |'Y'......POCKET.|
000016a0  0a 0d 0a 52 65 63 65 69  76 65 73 20 27 59 27 20  |...Receives 'Y' |
000016b0  6f 72 20 27 4e 27 0d 0a  69 66 20 27 4e 27 20 2d  |or 'N'..if 'N' -|
000016c0  20 74 65 72 6d 69 6e 61  74 65 20 69 6d 70 6f 72  | terminate impor|
000016d0  74 20 70 72 6f 63 65 64  75 72 65 0d 0a 69 66 20  |t procedure..if |
000016e0  27 59 27 20 2d 20 63 6f  6e 74 69 6e 75 65 20 69  |'Y' - continue i|
000016f0  6d 70 6f 72 74 20 70 72  6f 63 65 64 75 72 65 0d  |mport procedure.|
00001700  0a 53 65 6e 64 20 52 4f  4d 20 70 61 67 65 20 73  |.Send ROM page s|
00001710  69 7a 65 20 61 6e 64 20  45 45 50 52 4f 4d 20 62  |ize and EEPROM b|
00001720  79 74 65 20 73 69 7a 65  0d 0a 52 4f 4d 20 70 61  |yte size..ROM pa|
00001730  67 65 73 20 3d 20 38 20  62 69 74 20 76 61 6c 75  |ges = 8 bit valu|
00001740  65 20 28 31 20 70 61 67  65 20 3d 20 32 35 36 20  |e (1 page = 256 |
00001750  52 4f 4d 20 77 6f 72 64  73 29 0d 0a 45 45 50 52  |ROM words)..EEPR|
00001760  4f 4d 20 73 69 7a 65 20  3d 20 31 36 20 62 69 74  |OM size = 16 bit|
00001770  20 76 61 6c 75 65 20 2d  20 48 69 20 62 79 74 65  | value - Hi byte|
00001780  20 4c 6f 20 62 79 74 65  20 66 6f 72 6d 61 74 0d  | Lo byte format.|
00001790  0a 53 65 6e 64 20 46 75  73 65 20 41 4e 44 20 4f  |.Send Fuse AND O|
000017a0  52 20 6d 61 73 6b 20 76  61 6c 75 65 73 0d 0a 4d  |R mask values..M|
000017b0  61 73 6b 20 3d 20 38 20  77 6f 72 64 73 20 2d 20  |ask = 8 words - |
000017c0  48 20 62 79 74 65 20 4c  20 62 79 74 65 20 66 6f  |H byte L byte fo|
000017d0  72 6d 61 74 0d 0a 41 4e  44 30 20 20 4f 52 30 20  |rmat..AND0  OR0 |
000017e0  20 41 4e 44 31 20 20 4f  52 31 20 20 41 4e 44 32  | AND1  OR1  AND2|
000017f0  20 20 4f 52 32 20 20 41  4e 44 33 20 20 4f 52 33  |  OR2  AND3  OR3|
00001800  0d 0a 0d 0a 0d 0a 50 43  0d 0a 0d 0a 52 65 63 65  |......PC....Rece|
00001810  69 76 65 73 20 31 39 20  62 79 74 65 73 20 6f 66  |ives 19 bytes of|
00001820  20 64 61 74 61 0d 0a 52  4f 4d 20 66 69 6c 65 20  | data..ROM file |
00001830  64 61 74 61 20 63 6f 75  6e 74 20 69 73 20 6d 61  |data count is ma|
00001840  74 63 68 65 64 20 74 6f  20 72 65 63 65 69 76 65  |tched to receive|
00001850  64 20 52 4f 4d 20 63 6f  75 6e 74 20 65 69 74 68  |d ROM count eith|
00001860  65 72 0d 0a 62 79 20 70  61 64 64 69 6e 67 20 62  |er..by padding b|
00001870  6c 61 6e 6b 20 76 61 6c  75 65 73 20 6f 72 20 74  |lank values or t|
00001880  72 75 6e 63 61 74 69 6e  67 20 66 69 6c 65 0d 0a  |runcating file..|
00001890  45 45 50 52 4f 4d 20 66  69 6c 65 20 64 61 74 61  |EEPROM file data|
000018a0  20 63 6f 75 6e 74 20 69  73 20 6d 61 74 63 68 65  | count is matche|
000018b0  64 20 74 6f 20 72 65 63  65 69 76 65 64 20 45 45  |d to received EE|
000018c0  50 52 4f 4d 20 63 6f 75  6e 74 20 65 69 74 68 65  |PROM count eithe|
000018d0  72 0d 0a 62 79 20 70 61  64 64 69 6e 67 20 62 6c  |r..by padding bl|
000018e0  61 6e 6b 20 76 61 6c 75  65 73 20 6f 72 20 74 72  |ank values or tr|
000018f0  75 6e 63 61 74 69 6e 67  20 66 69 6c 65 0d 0a 46  |uncating file..F|
00001900  55 53 45 20 66 69 6c 65  20 76 61 6c 75 65 73 20  |USE file values |
00001910  61 72 65 20 41 4e 44 65  64 20 61 6e 64 20 4f 52  |are ANDed and OR|
00001920  65 64 20 77 69 74 68 20  72 65 63 65 69 76 65 64  |ed with received|
00001930  20 41 4e 44 20 4f 52 20  76 61 6c 75 65 73 0d 0a  | AND OR values..|
00001940  52 65 61 64 79 20 74 6f  20 73 65 6e 64 20 64 61  |Ready to send da|
00001950  74 61 20 2d 20 73 65 6e  64 20 27 59 27 0d 0a 0d  |ta - send 'Y'...|
00001960  0a 0d 0a 50 4f 43 4b 45  54 0d 0a 0d 0a 53 68 6f  |...POCKET....Sho|
00001970  75 6c 64 20 72 65 63 65  69 76 65 20 27 59 27 0d  |uld receive 'Y'.|
00001980  0a 69 66 20 6e 6f 74 20  27 59 27 20 2d 20 74 65  |.if not 'Y' - te|
00001990  72 6d 69 6e 61 74 65 20  69 6d 70 6f 72 74 20 70  |rminate import p|
000019a0  72 6f 63 65 64 75 72 65  0d 0a 69 66 20 27 59 27  |rocedure..if 'Y'|
000019b0  20 2d 20 63 6f 6e 74 69  6e 75 65 20 69 6d 70 6f  | - continue impo|
000019c0  72 74 20 70 72 6f 63 65  64 75 72 65 0d 0a 52 65  |rt procedure..Re|
000019d0  71 75 65 73 74 20 33 32  20 62 79 74 65 20 66 69  |quest 32 byte fi|
000019e0  6c 65 20 68 65 61 64 65  72 20 2d 20 73 65 6e 64  |le header - send|
000019f0  20 27 46 27 0d 0a 0d 0a  0d 0a 50 43 0d 0a 0d 0a  | 'F'......PC....|
00001a00  52 65 63 65 69 76 65 73  20 27 46 27 0d 0a 53 65  |Receives 'F'..Se|
00001a10  6e 64 20 33 32 20 62 79  74 65 20 46 69 6c 65 20  |nd 32 byte File |
00001a20  48 65 61 64 65 72 0d 0a  42 59 54 45 53 20 30 20  |Header..BYTES 0 |
00001a30  2d 20 31 31 20 20 20 20  3d 20 46 49 4c 45 4e 41  |- 11    = FILENA|
00001a40  4d 45 20 31 32 20 62 79  74 65 73 0d 0a 42 59 54  |ME 12 bytes..BYT|
00001a50  45 53 20 31 32 20 2d 20  31 33 20 20 20 3d 20 49  |ES 12 - 13   = I|
00001a60  44 20 4c 4f 43 53 20 28  31 29 20 48 20 4c 20 32  |D LOCS (1) H L 2|
00001a70  20 62 79 74 65 73 20 2d  20 31 32 2f 31 36 20 49  | bytes - 12/16 I|
00001a80  44 20 32 30 30 31 2f 30  20 2d 20 32 30 30 33 2f  |D 2001/0 - 2003/|
00001a90  32 20 20 28 31 38 20 49  44 20 32 30 30 30 30 37  |2  (18 ID 200007|
00001aa0  20 36 20 35 20 34 29 0d  0a 42 59 54 45 53 20 31  | 6 5 4)..BYTES 1|
00001ab0  34 20 2d 20 31 35 20 20  20 3d 20 49 44 20 4c 4f  |4 - 15   = ID LO|
00001ac0  43 53 20 28 32 29 20 48  20 4c 20 32 20 62 79 74  |CS (2) H L 2 byt|
00001ad0  65 73 20 2d 20 28 31 38  20 49 44 20 32 30 30 30  |es - (18 ID 2000|
00001ae0  30 33 20 32 20 31 20 30  29 0d 0a 42 59 54 45 53  |03 2 1 0)..BYTES|
00001af0  20 31 36 20 2d 20 31 37  20 20 20 3d 20 46 55 53  | 16 - 17   = FUS|
00001b00  45 20 28 31 29 20 48 20  4c 20 32 20 62 79 74 65  |E (1) H L 2 byte|
00001b10  73 20 2d 20 31 32 2f 31  36 20 66 75 73 65 20 31  |s - 12/16 fuse 1|
00001b20  38 20 66 75 73 65 20 33  30 30 30 30 31 20 33 30  |8 fuse 300001 30|
00001b30  30 30 30 30 0d 0a 42 59  54 45 53 20 31 38 20 2d  |0000..BYTES 18 -|
00001b40  20 31 39 20 20 20 3d 20  46 55 53 45 20 28 32 29  | 19   = FUSE (2)|
00001b50  20 48 20 4c 20 32 20 62  79 74 65 73 20 2d 20 31  | H L 2 bytes - 1|
00001b60  38 20 66 75 73 65 20 33  30 30 30 30 33 20 33 30  |8 fuse 300003 30|
00001b70  30 30 30 32 0d 0a 42 59  54 45 53 20 32 30 20 2d  |0002..BYTES 20 -|
00001b80  20 32 31 20 20 20 3d 20  46 55 53 45 20 28 33 29  | 21   = FUSE (3)|
00001b90  20 48 20 4c 20 32 20 62  79 74 65 73 20 2d 20 31  | H L 2 bytes - 1|
00001ba0  38 20 66 75 73 65 20 33  30 30 30 30 35 20 33 30  |8 fuse 300005 30|
00001bb0  30 30 30 34 0d 0a 42 59  54 45 53 20 32 32 20 2d  |0004..BYTES 22 -|
00001bc0  20 32 33 20 20 20 3d 20  46 55 53 45 20 28 34 29  | 23   = FUSE (4)|
00001bd0  20 48 20 4c 20 32 20 62  79 74 65 73 20 2d 20 31  | H L 2 bytes - 1|
00001be0  38 20 66 75 73 65 20 33  30 30 30 30 37 20 33 30  |8 fuse 300007 30|
00001bf0  30 30 30 36 0d 0a 42 59  54 45 53 20 32 34 20 2d  |0006..BYTES 24 -|
00001c00  20 32 35 20 20 20 3d 20  44 55 4d 4d 59 20 30 30  | 25   = DUMMY 00|
00001c10  68 2c 20 44 55 4d 4d 59  20 30 30 68 0d 0a 42 59  |h, DUMMY 00h..BY|
00001c20  54 45 53 20 32 36 20 20  20 20 20 20 20 20 3d 20  |TES 26        = |
00001c30  52 4f 4d 20 44 41 54 41  20 50 41 47 45 20 53 49  |ROM DATA PAGE SI|
00001c40  5a 45 20 48 0d 0a 42 59  54 45 53 20 32 37 20 2d  |ZE H..BYTES 27 -|
00001c50  20 32 38 20 20 20 3d 20  45 45 50 52 4f 4d 20 44  | 28   = EEPROM D|
00001c60  41 54 41 20 42 59 54 45  20 53 49 5a 45 20 48 20  |ATA BYTE SIZE H |
00001c70  4c 0d 0a 42 59 54 45 53  20 32 39 20 20 20 20 20  |L..BYTES 29     |
00001c80  20 20 20 3d 20 46 49 4c  45 20 54 59 50 45 20 49  |   = FILE TYPE I|
00001c90  4e 48 58 38 4d 20 28 27  4d 27 29 20 4f 52 20 49  |NHX8M ('M') OR I|
00001ca0  4e 48 58 33 32 20 28 27  32 27 29 0d 0a 42 59 54  |NHX32 ('2')..BYT|
00001cb0  45 53 20 33 30 20 2d 20  33 31 20 20 20 3d 20 44  |ES 30 - 31   = D|
00001cc0  55 4d 4d 59 20 30 30 68  2c 20 44 55 4d 4d 59 20  |UMMY 00h, DUMMY |
00001cd0  30 30 68 0d 0a 49 6e 69  74 69 61 6c 69 73 65 73  |00h..Initialises|
00001ce0  20 52 4f 4d 20 61 6e 64  20 45 45 50 52 4f 4d 20  | ROM and EEPROM |
00001cf0  64 61 74 61 20 70 6f 69  6e 74 65 72 73 0d 0a 0d  |data pointers...|
00001d00  0a 0d 0a 50 4f 43 4b 45  54 0d 0a 0d 0a 52 65 63  |...POCKET....Rec|
00001d10  65 69 76 65 73 20 61 6e  64 20 73 74 6f 72 65 73  |eives and stores|
00001d20  20 33 32 20 62 79 74 65  20 46 69 6c 65 20 48 65  | 32 byte File He|
00001d30  61 64 65 72 0d 0a 0d 0a  5b 49 4d 50 4f 52 54 20  |ader....[IMPORT |
00001d40  4c 4f 4f 50 5d 0d 0a 52  65 71 75 65 73 74 20 31  |LOOP]..Request 1|
00001d50  36 20 62 79 74 65 73 20  6f 66 20 66 69 6c 65 20  |6 bytes of file |
00001d60  64 61 74 61 20 2d 20 53  65 6e 64 20 27 4d 27 0d  |data - Send 'M'.|
00001d70  0a 0d 0a 0d 0a 50 43 0d  0a 0d 0a 52 65 63 65 69  |.....PC....Recei|
00001d80  76 65 73 20 27 4d 27 0d  0a 41 66 74 65 72 20 61  |ves 'M'..After a|
00001d90  6c 6c 20 52 4f 4d 20 64  61 74 61 20 69 73 20 73  |ll ROM data is s|
00001da0  65 6e 74 2c 20 45 45 50  52 4f 4d 20 64 61 74 61  |ent, EEPROM data|
00001db0  20 69 6d 6d 65 64 69 61  74 65 6c 79 20 66 6f 6c  | immediately fol|
00001dc0  6c 6f 77 73 0d 0a 49 66  20 74 68 65 72 65 20 69  |lows..If there i|
00001dd0  73 20 64 61 74 61 20 74  68 65 6e 20 73 65 6e 64  |s data then send|
00001de0  20 30 30 68 20 2b 20 6e  65 78 74 20 31 36 20 62  | 00h + next 16 b|
00001df0  79 74 65 73 20 6f 66 20  66 69 6c 65 20 64 61 74  |ytes of file dat|
00001e00  61 0d 0a 49 66 20 74 68  65 72 65 20 69 73 20 6e  |a..If there is n|
00001e10  6f 20 6d 6f 72 65 20 64  61 74 61 20 74 68 65 6e  |o more data then|
00001e20  20 73 65 6e 64 20 46 46  68 0d 0a 0d 0a 0d 0a 50  | send FFh......P|
00001e30  4f 43 4b 45 54 0d 0a 0d  0a 52 65 63 65 69 76 65  |OCKET....Receive|
00001e40  73 20 30 30 68 20 6f 72  20 46 46 68 0d 0a 69 66  |s 00h or FFh..if|
00001e50  20 30 30 68 20 74 68 65  6e 20 72 65 63 65 69 76  | 00h then receiv|
00001e60  65 20 61 6e 64 20 73 74  6f 72 65 20 31 36 20 62  |e and store 16 b|
00001e70  79 74 65 73 20 6f 66 20  66 69 6c 65 20 64 61 74  |ytes of file dat|
00001e80  61 0d 0a 52 65 71 75 65  73 74 20 31 36 20 6d 6f  |a..Request 16 mo|
00001e90  72 65 20 62 79 74 65 73  20 6f 66 20 66 69 6c 65  |re bytes of file|
00001ea0  20 64 61 74 61 20 2d 20  53 65 6e 64 20 27 4d 27  | data - Send 'M'|
00001eb0  0d 0a 5b 49 4d 50 4f 52  54 20 4c 4f 4f 50 5d 0d  |..[IMPORT LOOP].|
00001ec0  0a 0d 0a 69 66 20 46 46  68 20 74 68 65 6e 20 45  |...if FFh then E|
00001ed0  6e 64 20 6f 66 20 49 6d  70 6f 72 74 0d 0a 53 65  |nd of Import..Se|
00001ee0  6e 64 20 27 46 27 20 2b  20 33 32 20 62 79 74 65  |nd 'F' + 32 byte|
00001ef0  73 20 6f 66 20 62 6c 6f  63 6b 20 75 73 61 67 65  |s of block usage|
00001f00  20 64 61 74 61 2e 0d 0a  42 79 74 65 73 20 30 20  | data...Bytes 0 |
00001f10  2d 20 33 31 20 3d 20 62  6c 6f 63 6b 73 20 30 20  |- 31 = blocks 0 |
00001f20  2d 20 37 20 74 6f 20 32  34 38 20 2d 20 32 35 35  |- 7 to 248 - 255|
00001f30  0d 0a 62 69 74 73 20 37  20 3d 20 6c 6f 77 65 73  |..bits 7 = lowes|
00001f40  74 20 62 6c 6f 63 6b 20  6e 75 6d 62 65 72 0d 0a  |t block number..|
00001f50  62 69 74 20 3d 20 30 20  3d 20 75 73 65 64 2c 20  |bit = 0 = used, |
00001f60  62 69 74 20 3d 20 31 20  3d 20 75 6e 75 73 65 64  |bit = 1 = unused|
00001f70  0d 0a 77 61 69 74 20 66  6f 72 20 50 43 20 72 65  |..wait for PC re|
00001f80  73 70 6f 6e 73 65 0d 0a  0d 0a 50 43 0d 0a 0d 0a  |sponse....PC....|
00001f90  52 65 63 65 69 76 65 73  20 27 46 27 20 2b 20 33  |Receives 'F' + 3|
00001fa0  32 20 62 79 74 65 73 20  6f 66 20 64 61 74 61 20  |2 bytes of data |
00001fb0  61 6e 64 20 64 69 73 70  6c 61 79 73 20 61 20 62  |and displays a b|
00001fc0  6c 6f 63 6b 20 75 73 61  67 65 20 6d 61 70 0d 0a  |lock usage map..|
00001fd0  4f 4b 20 62 75 74 74 6f  6e 20 69 73 20 61 76 61  |OK button is ava|
00001fe0  69 6c 61 62 6c 65 20 74  6f 20 74 65 72 6d 69 6e  |ilable to termin|
00001ff0  61 74 65 20 62 6c 6f 63  6b 20 75 73 61 67 65 0d  |ate block usage.|
00002000  0a 57 68 65 6e 20 4f 4b  20 70 72 65 73 73 65 64  |.When OK pressed|
00002010  2c 20 50 43 20 73 65 6e  64 73 20 61 6e 79 20 63  |, PC sends any c|
00002020  68 61 72 0d 0a 4e 6f 20  66 75 72 74 68 65 72 20  |har..No further |
00002030  50 43 20 61 63 74 69 6f  6e 20 72 65 71 75 69 72  |PC action requir|
00002040  65 64 0d 0a 0d 0a 0d 0a  50 4f 43 4b 45 54 0d 0a  |ed......POCKET..|
00002050  0d 0a 52 65 63 65 69 76  65 73 20 61 6e 79 20 63  |..Receives any c|
00002060  68 61 72 20 61 6e 64 20  74 65 72 6d 69 6e 61 74  |har and terminat|
00002070  65 73 20 74 68 65 20 49  6d 70 6f 72 74 20 70 72  |es the Import pr|
00002080  6f 63 65 64 75 72 65 0d  0a 0d 0a 5b 45 4e 44 5d  |ocedure....[END]|
00002090  0d 0a 0d 0a 0d 0a 2d 2d  2d 2d 2d 2d 2d 2d 2d 2d  |......----------|
000020a0  2d 2d 2d 2d 2d 2d 2d 2d  2d 2d 2d 0d 0a 45 58 50  |-----------..EXP|
000020b0  4f 52 54 20 43 4f 4d 4d  53 20 50 52 4f 54 4f 43  |ORT COMMS PROTOC|
000020c0  4f 4c 0d 0a 2d 2d 2d 2d  2d 2d 2d 2d 2d 2d 2d 2d  |OL..------------|
000020d0  2d 2d 2d 2d 2d 2d 2d 2d  2d 0d 0a 0d 0a 50 4f 43  |---------....POC|
000020e0  4b 45 54 0d 0a 0d 0a 53  74 61 72 74 20 45 78 70  |KET....Start Exp|
000020f0  6f 72 74 20 52 65 71 75  65 73 74 0d 0a 53 65 6e  |ort Request..Sen|
00002100  64 73 20 27 45 27 20 2b  20 27 45 27 0d 0a 0d 0a  |ds 'E' + 'E'....|
00002110  0d 0a 50 43 20 0d 0a 0d  0a 52 65 63 65 69 76 65  |..PC ....Receive|
00002120  73 20 27 45 27 20 2b 20  27 45 27 0d 0a 53 65 6e  |s 'E' + 'E'..Sen|
00002130  64 20 61 6e 79 20 63 68  61 72 0d 0a 0d 0a 0d 0a  |d any char......|
00002140  50 4f 43 4b 45 54 0d 0a  0d 0a 52 65 63 65 69 76  |POCKET....Receiv|
00002150  65 73 20 61 6e 79 20 63  68 61 72 0d 0a 53 65 6e  |es any char..Sen|
00002160  64 20 52 4f 4d 20 70 61  67 65 20 73 69 7a 65 20  |d ROM page size |
00002170  61 6e 64 20 45 45 50 52  4f 4d 20 62 79 74 65 20  |and EEPROM byte |
00002180  73 69 7a 65 0d 0a 52 4f  4d 20 70 61 67 65 73 20  |size..ROM pages |
00002190  3d 20 38 20 62 69 74 20  76 61 6c 75 65 20 28 31  |= 8 bit value (1|
000021a0  20 70 61 67 65 20 3d 20  32 35 36 20 52 4f 4d 20  | page = 256 ROM |
000021b0  77 6f 72 64 73 29 0d 0a  45 45 50 52 4f 4d 20 73  |words)..EEPROM s|
000021c0  69 7a 65 20 3d 20 31 36  20 62 69 74 20 76 61 6c  |ize = 16 bit val|
000021d0  75 65 20 2d 20 48 69 20  62 79 74 65 20 4c 6f 20  |ue - Hi byte Lo |
000021e0  62 79 74 65 20 66 6f 72  6d 61 74 0d 0a 0d 0a 0d  |byte format.....|
000021f0  0a 50 43 0d 0a 0d 0a 52  65 63 65 69 76 65 73 20  |.PC....Receives |
00002200  33 20 62 79 74 65 73 0d  0a 42 79 74 65 20 31 20  |3 bytes..Byte 1 |
00002210  3d 20 52 4f 4d 20 70 61  67 65 20 73 69 7a 65 0d  |= ROM page size.|
00002220  0a 42 79 74 65 20 32 20  61 6e 64 20 33 20 3d 20  |.Byte 2 and 3 = |
00002230  45 45 50 52 4f 4d 20 62  79 74 65 20 73 69 7a 65  |EEPROM byte size|
00002240  20 48 20 4c 0d 0a 52 65  71 75 65 73 74 20 31 36  | H L..Request 16|
00002250  20 62 79 74 65 73 20 6f  66 20 64 61 74 61 20 2d  | bytes of data -|
00002260  20 73 65 6e 64 20 27 4d  27 0d 0a 0d 0a 0d 0a 50  | send 'M'......P|
00002270  4f 43 4b 45 54 0d 0a 0d  0a 52 65 63 65 69 76 65  |OCKET....Receive|
00002280  73 20 27 4d 27 0d 0a 53  65 6e 64 73 20 31 36 20  |s 'M'..Sends 16 |
00002290  62 79 74 65 73 20 6f 66  20 64 61 74 61 20 2d 20  |bytes of data - |
000022a0  48 20 42 79 74 65 20 4c  20 42 79 74 65 0d 0a 0d  |H Byte L Byte...|
000022b0  0a 0d 0a 50 43 0d 0a 0d  0a 5b 45 58 50 4f 52 54  |...PC....[EXPORT|
000022c0  20 4c 4f 4f 50 5d 0d 0a  52 65 63 65 69 76 65 73  | LOOP]..Receives|
000022d0  20 31 36 20 62 79 74 65  73 20 6f 66 20 64 61 74  | 16 bytes of dat|
000022e0  61 20 61 6e 64 20 73 74  6f 72 65 73 20 69 74 0d  |a and stores it.|
000022f0  0a 49 66 20 72 65 63 65  69 76 65 64 20 64 61 74  |.If received dat|
00002300  61 20 3d 20 52 4f 4d 20  73 69 7a 65 20 74 68 65  |a = ROM size the|
00002310  6e 20 72 65 73 74 20 6f  66 0d 0a 64 61 74 61 20  |n rest of..data |
00002320  74 68 61 74 20 69 73 20  72 65 71 75 65 73 74 65  |that is requeste|
00002330  64 20 69 73 20 66 6f 72  20 45 45 50 52 4f 4d 0d  |d is for EEPROM.|
00002340  0a 49 66 20 6d 6f 72 65  20 64 61 74 61 20 74 6f  |.If more data to|
00002350  20 72 65 63 65 69 76 65  2c 20 73 65 6e 64 20 27  | receive, send '|
00002360  4d 27 0d 0a 0d 0a 49 66  20 6e 6f 20 6d 6f 72 65  |M'....If no more|
00002370  20 64 61 74 61 20 6e 65  65 64 65 64 2c 20 73 65  | data needed, se|
00002380  6e 64 20 27 4e 27 0d 0a  0d 0a 0d 0a 50 4f 43 4b  |nd 'N'......POCK|
00002390  45 54 0d 0a 0d 0a 52 65  63 65 69 76 65 73 20 27  |ET....Receives '|
000023a0  4d 27 20 6f 72 20 27 4e  27 0d 0a 69 66 20 27 4d  |M' or 'N'..if 'M|
000023b0  27 2c 20 73 65 6e 64 20  6e 65 78 74 20 62 6c 6f  |', send next blo|
000023c0  63 6b 20 6f 66 20 31 36  20 62 79 74 65 73 20 2d  |ck of 16 bytes -|
000023d0  20 48 20 62 79 74 65 20  4c 20 62 79 74 65 0d 0a  | H byte L byte..|
000023e0  5b 45 58 50 4f 52 54 20  4c 4f 4f 50 5d 0d 0a 0d  |[EXPORT LOOP]...|
000023f0  0a 69 66 20 27 4e 27 2c  20 72 65 71 75 65 73 74  |.if 'N', request|
00002400  20 46 69 6c 65 4e 61 6d  65 20 2d 20 73 65 6e 64  | FileName - send|
00002410  20 27 4d 27 0d 0a 57 61  69 74 20 66 6f 72 20 50  | 'M'..Wait for P|
00002420  43 20 72 65 73 70 6f 6e  73 65 0d 0a 0d 0a 0d 0a  |C response......|
00002430  50 43 0d 0a 0d 0a 52 65  63 65 69 76 65 73 20 27  |PC....Receives '|
00002440  4d 27 0d 0a 54 68 65 20  66 69 6c 65 20 64 61 74  |M'..The file dat|
00002450  61 20 69 73 20 74 72 61  6e 73 66 6f 72 6d 65 64  |a is transformed|
00002460  20 69 6e 74 6f 20 49 4e  48 58 38 4d 20 6f 72 20  | into INHX8M or |
00002470  49 4e 48 58 33 32 0d 0a  46 69 6c 65 20 53 61 76  |INHX32..File Sav|
00002480  65 20 64 69 61 6c 6f 67  20 69 73 20 64 69 73 70  |e dialog is disp|
00002490  6c 61 79 65 64 20 77 69  74 68 20 66 69 6c 65 6e  |layed with filen|
000024a0  61 6d 65 20 74 68 61 74  0d 0a 77 61 73 20 74 72  |ame that..was tr|
000024b0  61 6e 73 66 65 72 72 65  64 20 66 72 6f 6d 20 74  |ansferred from t|
000024c0  68 65 20 50 6f 63 6b 65  74 2e 20 0d 0a 0d 0a 49  |he Pocket. ....I|
000024d0  66 20 74 68 65 20 75 73  65 72 20 63 68 61 6e 67  |f the user chang|
000024e0  65 73 20 74 68 65 20 66  69 6c 65 6e 61 6d 65 20  |es the filename |
000024f0  62 65 66 6f 72 65 20 73  74 6f 72 69 6e 67 2c 20  |before storing, |
00002500  74 68 65 6e 20 74 68 65  20 50 43 20 73 65 6e 64  |then the PC send|
00002510  73 20 0d 0a 63 68 61 6e  67 65 20 6f 66 20 66 69  |s ..change of fi|
00002520  6c 65 6e 61 6d 65 20 2d  20 73 65 6e 64 20 27 59  |lename - send 'Y|
00002530  27 20 2b 20 31 32 20 63  68 61 72 73 20 6f 66 20  |' + 12 chars of |
00002540  6e 65 77 20 66 69 6c 65  6e 61 6d 65 0d 0a 0d 0a  |new filename....|
00002550  49 66 20 74 68 65 20 66  69 6c 65 6e 61 6d 65 20  |If the filename |
00002560  77 61 73 20 6e 6f 74 20  63 68 61 6e 67 65 64 20  |was not changed |
00002570  6f 72 20 74 68 65 20 73  61 76 65 20 77 61 73 20  |or the save was |
00002580  61 62 6f 72 74 65 64 20  2d 20 73 65 6e 64 20 27  |aborted - send '|
00002590  4e 27 0d 0a 4e 6f 20 66  75 72 74 68 65 72 20 50  |N'..No further P|
000025a0  43 20 61 63 74 69 6f 6e  20 72 65 71 75 69 72 65  |C action require|
000025b0  64 0d 0a 0d 0a 0d 0a 50  4f 43 4b 45 54 0d 0a 0d  |d......POCKET...|
000025c0  0a 52 65 63 65 69 76 65  73 20 27 59 27 20 6f 72  |.Receives 'Y' or|
000025d0  20 27 4e 27 0d 0a 69 66  20 27 4e 27 2c 20 74 65  | 'N'..if 'N', te|
000025e0  72 6d 69 6e 61 74 65 20  45 78 70 6f 72 74 20 70  |rminate Export p|
000025f0  72 6f 63 65 64 75 72 65  0d 0a 69 66 20 27 59 27  |rocedure..if 'Y'|
00002600  2c 20 72 65 63 65 69 76  65 20 31 32 20 62 79 74  |, receive 12 byt|
00002610  65 73 20 6f 66 20 66 69  6c 65 6e 61 6d 65 20 64  |es of filename d|
00002620  61 74 61 0d 0a 72 65 77  72 69 74 65 20 74 68 65  |ata..rewrite the|
00002630  20 6e 65 77 20 66 69 6c  65 6e 61 6d 65 20 74 6f  | new filename to|
00002640  20 6d 65 6d 6f 72 79 0d  0a 54 65 72 6d 69 6e 61  | memory..Termina|
00002650  74 65 20 45 78 70 6f 72  74 20 70 72 6f 63 65 64  |te Export proced|
00002660  75 72 65 0d 0a 0d 0a 5b  45 4e 44 5d 0d 0a 0d 0a  |ure....[END]....|
00002670  0d 0a                                             |..|
00002672
